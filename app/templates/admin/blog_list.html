{% extends "base.html" %}
{% block content %}
<div class="container">
    <div style="margin-bottom: 24px;">
        <h1 style="margin-bottom: 16px;">Admin - Blog Posts</h1>
        <div style="display:flex; gap: 20px; border-bottom: 1px solid #eee; padding-bottom: 12px;">
            <a href="/admin" class="view-link" style="color:var(--muted);">Courses</a>
            <a href="/admin/blog" class="view-link" style="font-weight:700; color:var(--text);">Blog</a>
            <a href="/admin/pages" class="view-link" style="color:var(--muted);">Pages</a>
        </div>
    </div>

    <div style="display:flex;justify-content:flex-end;margin-bottom:24px;">
        <a href="/admin/blog/new" class="enroll-btn" style="margin:0;padding:8px 16px;">+ New Post</a>
    </div>

    {% for post in posts %}
    <div
        style="display:flex; align-items:center; border:1px solid #eee; padding:16px; margin-bottom:12px; border-radius:8px; background:#fff;">
        <div style="flex:1;">
            <div style="font-weight:600;font-size:16px;">{{ post.title }}</div>
            <div style="font-size:12px;color:#999;">/blog/{{ post.slug }}</div>
        </div>
        <div style="display:flex;gap:12px;font-size:14px;">
            <a href="/admin/blog/edit/{{ post.id }}" class="view-link">Edit</a>
            <a href="/admin/blog/delete/{{ post.id }}" class="view-link" style="color:#ef4444;"
                onclick="return confirm('Delete this post?')">Delete</a>
        </div>
    </div>
    {% else %}
    <p style="text-align:center;color:#999;">No blog posts yet.</p>
    {% endfor %}
</div>
{% endblock %}